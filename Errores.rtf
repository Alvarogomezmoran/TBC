{\rtf1\ansi\ansicpg1252\cocoartf2708
\cocoatextscaling0\cocoaplatform0{\fonttbl\f0\fnil\fcharset0 HelveticaNeue;}
{\colortbl;\red255\green255\blue255;\red25\green28\blue31;\red255\green255\blue255;}
{\*\expandedcolortbl;;\cssrgb\c12941\c14510\c16078;\cssrgb\c100000\c100000\c100000;}
\paperw11900\paperh16840\margl1440\margr1440\vieww11520\viewh8400\viewkind0
\deftab720
\pard\pardeftab720\sa320\partightenfactor0

\f0\fs30 \cf2 \cb3 \expnd0\expndtw0\kerning0
-- Memoria: no se hace un an\'e1lisis de vulnerabilidades. 10\cb1 \uc0\u8232 \u8232 \cb3 -- ERC20: mint no es correcto. No deber\'eda crear los tokens a nombre de\cb1 \uc0\u8232 \cb3 \'a0\'a0 msg.sender (al llamarlo desde QuadraticVoting, el valor que tiene\cb1 \uc0\u8232 \cb3 \'a0\'a0 msg.sender _es_ el address de QuadraticVoting, no el llamante). 5\cb1 \uc0\u8232 \u8232 \cb3 -- modificador existePropuesta no deber\'eda utilizar numVotes. Con esta\cb1 \uc0\u8232 \cb3 \'a0\'a0 implementaci\'f3n, no se puede crear una propuesta y cancelarla antes\cb1 \uc0\u8232 \cb3 \'a0\'a0 de que haya recibido al menos un voto. Deber\'eda utilizarse otro\cb1 \uc0\u8232 \cb3 \'a0\'a0 campo, como proposalCreator.\cb1 \uc0\u8232 \u8232 \cb3 -- No se da valor a tokenPrice en ning\'fan momento. No se puede utilizar\cb1 \uc0\u8232 \cb3 \'a0\'a0 el sistema.\cb1 \uc0\u8232 \u8232 \cb3 -- addParticipant: No funciona porque tokenPrice vale 0 y no es\cb1 \uc0\u8232 \cb3 \'a0\'a0 posible dividir por 0. Por otra parte, la llamada a token.mint no\cb1 \uc0\u8232 \cb3 \'a0\'a0 puede funcionar correctamente porque, al ejecutarse desde\cb1 \uc0\u8232 \cb3 \'a0\'a0 QuadraticVoting, crea los tokens a nombre de QuadraticVoting, que\cb1 \uc0\u8232 \cb3 \'a0\'a0 es msg.sender, en lugar de hacerlo a nombre del participante que se\cb1 \uc0\u8232 \cb3 \'a0\'a0 acaba de a\'f1adir. 5\cb1 \uc0\u8232 \u8232 \cb3 -- addProposal: No se a\'f1ade la propuesta al mapping de propuestas\cb1 \uc0\u8232 \cb3 \'a0\'a0 (est\'e1 comentado). El compilador muestra mensajes de warning que no\cb1 \uc0\u8232 \cb3 \'a0\'a0 se han resuelto. 5\cb1 \uc0\u8232 \u8232 \cb3 -- cancelProposal: La condici\'f3n de la sentencia require de la primera\cb1 \uc0\u8232 \cb3 \'a0\'a0 l\'ednea es incorrecta. 5\cb1 \uc0\u8232 \u8232 \cb3 -- buyTokens: token.mint no puede funcionar correctamente.\cb1 \uc0\u8232 \u8232 \cb3 -- stake: Deber\'eda llamar a _checkAndExecuteProposal para comprobar si\cb1 \uc0\u8232 \cb3 \'a0\'a0 se puede aprobar la propuesta. El c\'e1lculo del umbral es\cb1 \uc0\u8232 \cb3 \'a0\'a0 incorrecto. 5\cb1 \uc0\u8232 \u8232 \cb3 -- IMPORTANTE: No se realiza la llamada a executeProposal (est\'e1\cb1 \uc0\u8232 \cb3 \'a0\'a0 comentada). Adem\'e1s, no se hace transferencia de ether a la\cb1 \uc0\u8232 \cb3 \'a0\'a0 propuesta. De esta forma, se simplifica el problema, porque no se\cb1 \uc0\u8232 \cb3 \'a0\'a0 pueden producir ataques de reentrada. 20\cb1 \uc0\u8232 \u8232 \cb3 -- IMPORTANTE: El mecanismo de lock para evitar ataques de reentrada\cb1 \uc0\u8232 \cb3 \'a0\'a0 puede no funcionar correctamente.\cb1 \uc0\u8232 \u8232 \cb3 -- La lista de errores no es completa.\cb1 \uc0\u8232 \u8232 \cb3 -- No se ha podido probar el c\'f3digo. 25}